<!DOCTYPE html>
<!-- saved from url=(0063)file:///Users/audreymirasola/Downloads/Assignment3CausalAM.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Replication 1 Causual Infrence Class">
  <title>Audrey Mirasola</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
<style>
/* CSS for Markstat 2.0 using Pandoc 2.0 */
body{padding:14px 28px;}
body, table {font-family: Helvetica, Arial, Sans-serif; font-size: 14px;}
h1, h2, h3, h4 {font-weight: normal; color: #3366cc}
h1 {font-size: 200%;}
h2 {font-size: 150%;}
h3 {font-size: 120%;}
h4 {font-size: 100%; font-weight:bold}
img.center {display:block; margin-left:auto; margin-right:auto}
.small{font-size:8pt;}
a {color: black;}
a:visited {color: #808080;}
a.plain {text-decoration:none;}
a.plain:hover {text-decoration:underline;}
.em {font-weight:bold;}
pre, code {font-family: "lucida console", monospace;}
pre.stata {font-size:13px; line-height:13px;}
pre {padding:8px; border:1px solid #c0c0c0; border-radius:8px; background-color:#fdfdfd;}
code {color:#3366cc; background-color:#fafafa;}
pre code { color:black; background-color:white}
/* Added for Pandoc */
figure > img, div.figure > img {display:block; margin:auto}
figcaption, p.caption {text-align:center; font-weight:bold; color:#3366cc;}
h1.title {text-align:center; margin-bottom:0}
p.author, h2.author {font-style:italic; text-align:center;margin-top:4px;margin-bottom:0}
p.date, h3.date {text-align:center;margin-top:4px; margin-bottom:0}
/* Tables*/
table { margin:auto; border-collapse:collapse; }
table caption { margin-bottom:1ex;}
th, td { padding:4px 6px;}
thead tr:first-child th {border-top:1px solid black; padding-top:6px}
thead tr:last-child  th {padding-bottom:6px}
tbody tr:first-child td {border-top:1px solid black; padding-top:6px}
tbody tr:last-child  td {padding-bottom:6px;}
table tbody:last-child tr:last-child td {border-bottom:1px solid black;}
</style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Audrey Mirasola</h1>
<p class="author">Replication 1 Causual Infrence Class</p>
<p class="date">Hansen study about DWI and BAC</p>
</header>
<pre class="stata">. use "/Users/audreymirasola/Downloads/hansen_dwi.dta"
</pre>
<p><strong>Question 3</strong></p>
<pre class="stata">. gen baccuttoff = bac1 &gt;= .08

. gen cutbac1 = baccuttoff*bac1
</pre>
<p><strong>Question 4</strong></p>
<p>We use the McCrary density test to inspect the data and analyze whether there is evidence of manipulation. If smoothness is violated there, BAC at the cutoff may not be an ideal treatment to base a study on.</p>
<pre class="stata">. net install rddensity, from(https://raw.githubusercontent.com/rdpackages/rddensity/master/stata) replace
checking rddensity consistency and verifying not already installed...
all files already exist and are up to date.

. net install lpdensity, from(https://raw.githubusercontent.com/nppackages/lpdensity/master/stata) replace
checking lpdensity consistency and verifying not already installed...
all files already exist and are up to date.

. rddensity bac1, c(.08) plot
Computing data-driven bandwidth selectors.

Point estimates and standard errors have been adjusted for repeated observations.
(Use option nomasspoints to suppress this adjustment.)

RD Manipulation test using local polynomial density estimation.

     c =     0.080 │ Left of c  Right of c          Number of obs =       214558
───────────────────┼──────────────────────          Model         = unrestricted
     Number of obs │     23010      191548          BW method     =         comb
Eff. Number of obs │     14727       28946          Kernel        =   triangular
    Order est. (p) │         2           2          VCE method    =    jackknife
    Order bias (q) │         3           3
       BW est. (h) │     0.023       0.023

Running variable: bac1.
───────────────────┬──────────────────────
            Method │      T          P&gt;|T|
───────────────────┼──────────────────────
            Robust │   -0.1387      0.8897
───────────────────┴──────────────────────

P-values of binomial tests. (H0: prob = .5)
───────────────────┬──────────────────────┬──────────
 Window Length / 2 │       &lt;c         &gt;=c │     P&gt;|T|
───────────────────┼──────────────────────┼──────────
             0.000 │      909           0 │    0.0000
             0.000 │      909           0 │    0.0000
             0.000 │      909           0 │    0.0000
             0.000 │      909           0 │    0.0000
             0.000 │      909           0 │    0.0000
             0.000 │      909           0 │    0.0000
             0.000 │      909           0 │    0.0000
             0.000 │      909           0 │    0.0000
             0.000 │      909           0 │    0.0000
             0.000 │      909           0 │    0.0000
───────────────────┴──────────────────────┴──────────

. graph export density.png , replace    
(file /Users/audreymirasola/Downloads/density.png written in PNG format)
</pre>
<p><img src="./HansenRepDraft_files/density.png" alt="McCrary Density Test">.</p>
<p>While there is a bit of a jump, it is within standard error and there is no evidence that smoothness is violated. There is no evidence of sorting along the running variable. This agrees with Hansen’s findings in the paper.</p>
<p><strong>Question 5</strong></p>
<pre class="stata">. replace bac1 = bac1-.08
(214,558 real changes made)
</pre>
<pre class="stata">. quietly eststo: reg white i.baccuttoff bac1 cutbac1 i.male aged i.acc if bac1&gt;-.05 &amp; bac1&lt;.05, robust

. estimates store white, title(White)    
</pre>
<pre class="stata">. quietly eststo: reg male i.baccuttoff bac1 cutbac1 i.white aged i.acc if bac1&gt;-.05 &amp; bac1&lt;.05, robust

. estimates store male, title(Male)    
</pre>
<pre class="stata">. quietly eststo: reg aged i.baccuttoff bac1 cutbac1 i.white i.male i.acc if bac1&gt;-.05 &amp; bac1&lt;.05, robust

. estimates store age, title(Age)    
</pre>
<pre class="stata">. quietly eststo: reg acc i.baccuttoff bac1 cutbac1 i.white i.male aged if bac1&gt;-.05 &amp; bac1&lt;.05, robust

. estimates store accident, title(Accident)

. estout white male age accident, cells((b(star fmt(%9.3f))) (se(fmt(%9.3f)par))) title(Panel A: Regressions with .05 Bandwidth)    

Panel A: Regressions with .05 Bandwidth
────────────────────────────────────────────────────────────────────────────
                    white            male             age        accident   
                     b/se            b/se            b/se            b/se   
────────────────────────────────────────────────────────────────────────────
0.baccuttoff        0.000           0.000           0.000           0.000   
                      (.)             (.)             (.)             (.)   
1.baccuttoff        0.016          -0.016          -5.969***       -0.147***
                  (0.017)         (0.020)         (0.585)         (0.015)   
bac1                0.202          -0.178         -67.407***       -1.018***
                  (0.214)         (0.240)         (7.204)         (0.186)   
cutbac1            -0.120           0.280          72.751***        1.803***
                  (0.234)         (0.263)         (7.828)         (0.203)   
0.male              0.000                           0.000           0.000   
                      (.)                             (.)             (.)   
1.male             -0.036***                        0.406***       -0.003   
                  (0.003)                         (0.091)         (0.002)   
aged                0.002***        0.001***                        0.001***
                  (0.000)         (0.000)                         (0.000)   
0.acc               0.000           0.000           0.000                   
                      (.)             (.)             (.)                   
1.acc               0.004          -0.006           1.664***                
                  (0.004)         (0.005)         (0.143)                   
0.white                             0.000           0.000           0.000   
                                      (.)             (.)             (.)   
1.white                            -0.047***        1.939***        0.003   
                                  (0.004)         (0.098)         (0.003)   
_cons               0.812***        0.808***       31.821***        0.045***
                  (0.006)         (0.007)         (0.172)         (0.005)   
────────────────────────────────────────────────────────────────────────────

. eststo clear    
</pre>
<p><strong>Question 6</strong></p>
<pre class="stata">. replace bac1 = bac1+.08
(214,558 real changes made)
</pre>
<p>Plot the covariates</p>
<pre class="stata">. quietly    cmogram    white bac1,    cut(.08) scatter line(40) lfit

. graph export Whitebac1.png , replace
(file /Users/audreymirasola/Downloads/Whitebac1.png written in PNG format)
</pre>
<p><img src="./HansenRepDraft_files/Whitebac1.png" alt="White Linear Fit">.</p>
<pre class="stata">. quietly    cmogram    white bac1,    cut(.08) scatter line(40) qfit

. graph export Whitebac2.png , replace
(file /Users/audreymirasola/Downloads/Whitebac2.png written in PNG format)
</pre>
<p><img src="./HansenRepDraft_files/Whitebac2.png" alt="White Quadratic Fit">.</p>
<pre class="stata">. quietly    cmogram    male bac1,    cut(.08) scatter line(40) lfit

. graph export malebac1.png , replace
(file /Users/audreymirasola/Downloads/malebac1.png written in PNG format)
</pre>
<p><img src="./HansenRepDraft_files/malebac1.png" alt="Male Linear Fit">.</p>
<pre class="stata">. quietly    cmogram    male bac1,    cut(.08) scatter line(40) qfit

. graph export malebac2.png , replace    
(file /Users/audreymirasola/Downloads/malebac2.png written in PNG format)
</pre>
<p><img src="./HansenRepDraft_files/malebac2.png" alt="Male Quadratic Fit">.</p>
<pre class="stata">. quietly    cmogram    age bac1,    cut(.08) scatter line(40) lfit

. graph export Agebac1.png , replace
(file /Users/audreymirasola/Downloads/Agebac1.png written in PNG format)
</pre>
<p><img src="./HansenRepDraft_files/Agebac1.png" alt="Age Linear Fit">.</p>
<pre class="stata">. quietly    cmogram    age bac1,    cut(.08) scatter line(40) qfit

. graph export Agebac2.png , replace
(file /Users/audreymirasola/Downloads/Agebac2.png written in PNG format)
</pre>
<p><img src="./HansenRepDraft_files/Agebac2.png" alt="Age Quadratic Fit">.</p>
<pre class="stata">. quietly    cmogram    acc bac1,    cut(.08) scatter line(40) lfit

. graph export Accbac1.png , replace
(file /Users/audreymirasola/Downloads/Accbac1.png written in PNG format)
</pre>
<p><img src="./HansenRepDraft_files/Accbac1.png" alt="Accident Linear Fit">.</p>
<pre class="stata">. quietly    cmogram    acc bac1,    cut(.08) scatter line(40) qfit

. graph export Accbac2.png , replace
(file /Users/audreymirasola/Downloads/Accbac2.png written in PNG format)
</pre>
<p><img src="./HansenRepDraft_files/Accbac2.png" alt="Accident Quadratic Fit">.</p>
<p>The graphs a fairly similar to those in Hansen’s paper. Plotting each covariate quadratically shows that the null hypothesis of smoothness cannot be rejected.</p>
<p><strong>Question 7</strong></p>
<p>Panel A</p>
<pre class="stata">. replace bac1 = bac1-.08
(214,558 real changes made)
</pre>
<p>Column 1 (controllig for bac1 linearly)</p>
<pre class="stata">. quietly eststo: reg recidivism i.baccuttoff bac1 cutbac1 i.white i.male aged i.acc if bac1&gt;-.05 &amp; bac1&lt;.05, robust

. estimates store ControlLinearly, title(Model 1)
</pre>
<p>Column 2 (interact cuttoff and bac 1linearly)</p>
<pre class="stata">. quietly eststo: xi: reg recidivism i.baccuttoff*bac1 cutbac1 i.year i.white i.male aged i.acc if bac1&gt;-.05 &amp; bac1&lt;.05, robust

. estimates store LinearInteraction, title(Model 2)
</pre>
<p>Column 3 (interact cuttoff and bac1 linearlly and as a quadratic)</p>
<pre class="stata">. gen bacsq =(bac1)^2

. quietly eststo: xi: reg recidivism baccuttoff##c.(bac1 bacsq) cutbac1 i.white i.male aged i.acc if bac1&gt;-.05 &amp; bac1&lt;.05, robust

. estimates store QuadraticInteraction, title(Model 3)

. estout ControlLinearly LinearInteraction QuadraticInteraction, cells((b(star fmt(%9.3f))) (se(fmt(%9.3f)par))) title(Panel A: Regressi
&gt; ons with .05 Bandwidth)

Panel A: Regressions with .05 Bandwidth
────────────────────────────────────────────────────────────
             ControlLin~y    LinearInte~n    QuadraticI~n   
                     b/se            b/se            b/se   
────────────────────────────────────────────────────────────
0.baccuttoff        0.000                           0.000   
                      (.)                             (.)   
1.baccuttoff       -0.059***                       -0.096   
                  (0.015)                         (0.054)   
bac1               -0.043          -0.035          -1.053   
                  (0.187)         (0.187)         (0.601)   
cutbac1             0.438*          0.000           1.027   
                  (0.204)             (.)         (0.689)   
0.white             0.000                                   
                      (.)                                   
1.white             0.016***                                
                  (0.003)                                   
0.male              0.000                                   
                      (.)                                   
1.male              0.033***                                
                  (0.002)                                   
aged               -0.001***       -0.001***       -0.001***
                  (0.000)         (0.000)         (0.000)   
0.acc               0.000                                   
                      (.)                                   
1.acc               0.004                                   
                  (0.003)                                   
_Ibaccutto~1                       -0.024***                
                                  (0.004)                   
_IbacXbac1_1                        0.416*                  
                                  (0.204)                   
_Iyear_2000                         0.005                   
                                  (0.005)                   
_Iyear_2001                         0.009                   
                                  (0.005)                   
_Iyear_2002                        -0.003                   
                                  (0.005)                   
_Iyear_2003                        -0.004                   
                                  (0.004)                   
_Iyear_2004                        -0.006                   
                                  (0.004)                   
_Iyear_2005                        -0.009*                  
                                  (0.005)                   
_Iyear_2006                        -0.002                   
                                  (0.005)                   
_Iyear_2007                        -0.023***                
                                  (0.004)                   
_Iwhite_1                           0.014***        0.016***
                                  (0.003)         (0.003)   
_Imale_1                            0.032***        0.033***
                                  (0.002)         (0.002)   
_Iacc_1                             0.004           0.004   
                                  (0.003)         (0.003)   
bacsq                                             -24.717   
                                                 (13.739)   
0.baccutto~1                                        0.000   
                                                      (.)   
1.baccutto~1                                        0.000   
                                                      (.)   
0.baccutto~q                                        0.000   
                                                      (.)   
1.baccutto~q                                       32.731*  
                                                 (15.105)   
_cons               0.106***        0.113***        0.100***
                  (0.005)         (0.006)         (0.006)   
────────────────────────────────────────────────────────────

. eststo clear
</pre>
<p>Panel B</p>
<p>Column 1 (controllig for bac1 linearly)</p>
<pre class="stata">. quietly eststo: reg recidivism i.baccuttoff bac1 cutbac1 i.white i.male aged i.acc if bac1&gt;-.025 &amp; bac1&lt;.025, robust

. estimates store ControlLinearlyB, title(Model 4)
</pre>
<p>Column 2 (interact cuttoff and bac 1linearly )</p>
<pre class="stata">. quietly eststo: xi: reg recidivism i.baccuttoff*bac1 cutbac1 i.year i.white i.male aged i.acc if bac1&gt;-.025 &amp; bac1&lt;.025, robust

. estimates store LinearInteractionB, title(Model 5)
</pre>
<p>Column 3 (interact cuttoff and bac1 linearlly and as a quadratic)</p>
<pre class="stata">. quietly eststo: xi: reg recidivism baccuttoff##c.(bac1 bacsq) cutbac1 i.white i.male aged i.acc if bac1&gt;-.025 &amp; bac1&lt;.025, robust

. estimates store QuadraticInteractionB, title(Model 6)

. estout ControlLinearlyB LinearInteractionB QuadraticInteractionB, cells((b(star fmt(%9.3f))) (se(fmt(%9.3f)par))) title(Panel B: Regre
&gt; ssions with .025 Bandwisth)

Panel B: Regressions with .025 Bandwisth
────────────────────────────────────────────────────────────
             ControlLin~B    LinearInte~B    QuadraticI~B   
                     b/se            b/se            b/se   
────────────────────────────────────────────────────────────
0.baccuttoff        0.000                           0.000   
                      (.)                             (.)   
1.baccuttoff       -0.064                          -0.085   
                  (0.035)                         (0.133)   
bac1               -0.196          -0.202          -1.203   
                  (0.383)         (0.382)         (1.344)   
cutbac1             0.547           0.537           0.882   
                  (0.449)         (0.449)         (1.675)   
0.white             0.000                                   
                      (.)                                   
1.white             0.018***                                
                  (0.004)                                   
0.male              0.000                                   
                      (.)                                   
1.male              0.036***                                
                  (0.003)                                   
aged               -0.001***       -0.001***       -0.001***
                  (0.000)         (0.000)         (0.000)   
0.acc               0.000                                   
                      (.)                                   
1.acc               0.004                                   
                  (0.005)                                   
_Ibaccutto~1                       -0.063                   
                                  (0.035)                   
_IbacXbac1_1                        0.000                   
                                      (.)                   
_Iyear_2000                         0.010                   
                                  (0.007)                   
_Iyear_2001                         0.003                   
                                  (0.007)                   
_Iyear_2002                        -0.004                   
                                  (0.006)                   
_Iyear_2003                        -0.005                   
                                  (0.006)                   
_Iyear_2004                        -0.009                   
                                  (0.006)                   
_Iyear_2005                        -0.009                   
                                  (0.006)                   
_Iyear_2006                        -0.007                   
                                  (0.006)                   
_Iyear_2007                        -0.025***                
                                  (0.006)                   
_Iwhite_1                           0.016***        0.018***
                                  (0.004)         (0.004)   
_Imale_1                            0.035***        0.036***
                                  (0.003)         (0.003)   
_Iacc_1                             0.004           0.004   
                                  (0.005)         (0.005)   
bacsq                                             -46.065   
                                                 (58.747)   
0.baccutto~1                                        0.000   
                                                      (.)   
1.baccutto~1                                        0.000   
                                                      (.)   
0.baccutto~q                                        0.000   
                                                      (.)   
1.baccutto~q                                       71.268   
                                                 (69.207)   
_cons               0.098***        0.106***        0.094***
                  (0.007)         (0.008)         (0.008)   
────────────────────────────────────────────────────────────

. eststo clear
</pre>
<p><strong>Question 8</strong></p>
<pre class="stata">. replace bac1 = bac1+.08
(214,558 real changes made)
</pre>
<p>Linear Fit</p>
<pre class="stata">. quietly cmogram recidivism bac1 if bac1&lt;.15, cut(.08) scatter line(40) lfit

. graph export recid.png , replace    
(file /Users/audreymirasola/Downloads/recid.png written in PNG format)
</pre>
<p><img src="./HansenRepDraft_files/recid.png" alt="Recidivism Linear Fit">.</p>
<p>Quadratic Fit</p>
<pre class="stata">. quietly cmogram recidivism bac1 if bac1&lt;.15, cut(.08) scatter line(40) qfit

. graph export recidq.png , replace    
(file /Users/audreymirasola/Downloads/recidq.png written in PNG format)
</pre>
<p><img src="./HansenRepDraft_files/recidq.png" alt="Recidivism Quadratic Fit">.</p>
<p><strong>Question 9</strong></p>
<p>This project tested the hypothesis of whether or not receiving punishment for drunk driving has an impact on recidivism. I am confident in Hansen’s conclusion that punishmet has an impact becaue this replication shows that there is a significant decrease in recidivism at the cusp of the threshold while the other variable remain smooth at that .08 treatment point.</p>


</body></html>